<ngb-tabset [destroyOnHide]="false" *ngIf="isAssignToAdmin">
  <ngb-tab title="My Orders">
    <ng-template ngbTabContent>
      <h1 class="page-heading border-bottom pb-3">{{ approvalVersion ? 'Orders To Appprove' : 'My Orders' }}</h1>
<shared-search placeholderText="Search Orders"
               (searched)="filterBySearch($event)"></shared-search>
<div class="row mt-3">
  <div class="col-md-2 col-sm-6"
       *ngIf="!approvalVersion">
    <div>Favorites</div>
    <div class="mt-3 ml-3">
      <shared-toggle-favorite [favorite]="hasFavoriteOrdersFilter"
                              (favoriteChanged)="filterByFavorite($event)"></shared-toggle-favorite>
    </div>
  </div>
  <div class="col-md-2 col-sm-6"
       *ngIf="!approvalVersion">
    <order-status-filter (selectedStatus)="filterByStatus($event)"></order-status-filter>
  </div>
  <div class="col">
    <order-date-filter (selectedDate)="filterByDate($event)"></order-date-filter>
  </div>
</div>
<div class="float-right pb-3">
  <button class="btn btn-primary"  (click) = "downloadCsv(1)">Export-Csv</button>
</div>
<order-list *ngIf="orders$ | async; let orders"
            [orders]="orders"
            [columns]="columns"
            [sortBy]="sortBy"
            (updatedSort)="sortOrders($event)"
            (changedPage)="changePage($event)">
</order-list>    
    </ng-template>
  </ngb-tab>
    <ngb-tab >
    <ng-template ngbTabTitle>All Orders</ng-template>
    <ng-template ngbTabContent>
         <h1 class="page-heading border-bottom pb-3">{{ approvalVersion ? 'Orders To Appprove' : 'My Orders' }}</h1>
<shared-search placeholderText="Search Orders"
               (searched)="filterBySearch($event)"></shared-search>
<div class="row mt-3">
  <div class="col-md-2 col-sm-6"
       *ngIf="!approvalVersion">
    <div>Favorites</div>
    <div class="mt-3 ml-3">
      <shared-toggle-favorite [favorite]="hasFavoriteOrdersFilter"
                              (favoriteChanged)="filterByFavorite($event)"></shared-toggle-favorite>
    </div>
  </div>
  <div class="col-md-2 col-sm-6"
       *ngIf="!approvalVersion">
    <order-status-filter (selectedStatus)="filterByStatus($event)"></order-status-filter>
  </div>
  <div class="col">
    <order-date-filter (selectedDate)="filterByDate($event)"></order-date-filter>
  </div>
</div>
<div class="float-right pb-3">
  <button class="btn btn-primary"  (click) = "downloadCsv(2)">Export-Csv</button>
</div>
<order-list *ngIf="allOrders$ | async; let orders"
            [orders]="orders"
            [columns]="columns"
            [sortBy]="sortBy"
            (updatedSort)="sortOrders($event)"
            (changedPage)="changePage($event)">
</order-list>
    </ng-template>
  </ngb-tab>
</ngb-tabset>

<div *ngIf = "!isAssignToAdmin">
 <h1 class="page-heading border-bottom pb-3">{{ approvalVersion ? 'Orders To Appprove' : 'My Orders' }}</h1>
<shared-search placeholderText="Search Orders"
               (searched)="filterBySearch($event)"></shared-search>
<div class="row mt-3">
  <div class="col-md-2 col-sm-6"
       *ngIf="!approvalVersion">
    <div>Favorites</div>
    <div class="mt-3 ml-3">
      <shared-toggle-favorite [favorite]="hasFavoriteOrdersFilter"
                              (favoriteChanged)="filterByFavorite($event)"></shared-toggle-favorite>
    </div>
  </div>
  <div class="col-md-2 col-sm-6"
       *ngIf="!approvalVersion">
    <order-status-filter (selectedStatus)="filterByStatus($event)"></order-status-filter>
  </div>
  <div class="col">
    <order-date-filter (selectedDate)="filterByDate($event)"></order-date-filter>
  </div>
</div>
<div class="float-right pb-3">
  <button class="btn btn-primary"  (click) = "downloadCsv(3)">Export-Csv</button>
</div>
<order-list *ngIf="orders$ | async; let orders"
            [orders]="orders"
            [columns]="columns"
            [sortBy]="sortBy"
            (updatedSort)="sortOrders($event)"
            (changedPage)="changePage($event)">
</order-list>   
</div>