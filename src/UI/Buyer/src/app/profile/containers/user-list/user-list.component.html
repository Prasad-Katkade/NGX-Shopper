<div class="table-responsive"
     *ngIf="users.Items.length">
  <table class="table table-striped table-bordered table-hover bg-light">
    <caption class="sr-only">List of Users</caption>
    <thead>
      <tr>
        <!-- <th *ngIf="columnNames.indexOf('Favorite') > -1"></th> -->
        <th (click)="updateSort('ID')"
            *ngIf="columnNames.indexOf('ID') > -1">
          <button class="btn btn-link font-weight-bold">
            ID
            <fa-icon *ngIf="sortBy === 'ID' || sortBy === '!ID'"
                     [icon]="sortBy === 'ID' ? faCaretDown : faCaretUp"></fa-icon>
          </button>
        </th>
        <th (click)="updateSort('Username')"
            *ngIf="columnNames.indexOf('Username') > -1">
          <button class="btn btn-link font-weight-bold">
            Username
            <fa-icon *ngIf="sortBy === 'Username' || sortBy === '!Username'"
                     [icon]="sortBy === 'Username' ? faCaretDown : faCaretUp"></fa-icon>
          </button>
        </th>
        <th (click)="updateSort('FirstName')"
            *ngIf="columnNames.indexOf('FirstName') > -1">
          <button class="btn btn-link font-weight-bold">
            FirstName
            <fa-icon *ngIf="sortBy === 'FirstName' || sortBy === '!FirstName'"
                     [icon]="sortBy === 'FirstName' ? faCaretDown : faCaretUp"></fa-icon>
          </button>
        </th>
        <th *ngIf="columnNames.indexOf('LastName') > -1">
          <button class="btn btn-link font-weight-bold">
            LastName
          </button>
        </th>
        <th (click)="updateSort('Email')"
            *ngIf="columnNames.indexOf('Email') > -1">
          <button class="btn btn-link font-weight-bold">
            Email
            <fa-icon *ngIf="sortBy === 'Email' || sortBy === '!Email'"
                     [icon]="sortBy === 'Email' ? faCaretDown : faCaretUp"></fa-icon>
          </button>
        </th>
        <th *ngIf="columnNames.indexOf('Active') > -1">Active</th>
        <th *ngIf="columnNames.indexOf('Impersonate') > -1">Impersonate</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let user of users.Items">
        <td *ngIf="columnNames.indexOf('ID')> -1">{{user.ID}}</td>
        <td *ngIf="columnNames.indexOf('Username')> -1">{{user.Username}}</td>
        <td *ngIf="columnNames.indexOf('FirstName')> -1">{{user.FirstName}}</td>
        <td *ngIf="columnNames.indexOf('LastName')> -1">{{user.LastName}}</td>
        <td *ngIf="columnNames.indexOf('Email')> -1">{{user.Email}}</td>
        <td *ngIf="columns.indexOf('Active') > -1"
          class="text-center">
        <fa-icon aria-hidden="true"
                 [ngClass]="{'text-success': user.Active}"
                 [icon]="faCircle"></fa-icon>
       </td>
       <td>
         <button class="btn btn-primary" (click)="impersonate(user.ID)">Impersonate</button>
       </td>
        
        
      </tr>
    </tbody>
  </table>
</div>
<div class="card bg-light p-3 flex-row justify-content-center"
     *ngIf="!users.Items.length">
  <p class="mb-0">No users found</p>
</div>
<ngb-pagination *ngIf="users.Meta.TotalPages > 1"
                maxSize="10"
                class="d-flex justify-content-center"
                [collectionSize]="users.Meta.TotalCount"
                [pageSize]="users.Meta.PageSize"
                [(page)]="users.Meta.Page"
                (pageChange)="changePage($event)"
                [rotate]="true"></ngb-pagination>
